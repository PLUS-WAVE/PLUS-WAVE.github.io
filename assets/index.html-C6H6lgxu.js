import{_ as s,c as e,e as a,o as t}from"./app-CGJJd-cj.js";const h={};function l(n,i){return t(),e("div",null,i[0]||(i[0]=[a('<p><code>rsync</code> 是一个用于在本地或远程系统之间同步文件和目录的强大工具。它支持增量传输，只传输发生变化的部分，从而提高了效率。以下是 <code>rsync</code> 的基本使用方法和一些常用用法。</p><p>基本语法</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [选项] 源 目标</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>常用选项</p><ul><li><code>-a</code>：归档模式，保留文件属性（如权限、时间戳等），相当于 <code>-rlptgoD</code>。</li><li><code>-v</code>：详细模式，显示传输过程中的详细信息。</li><li><code>-z</code>：压缩传输，减少数据传输量。</li><li><code>-P</code>：显示传输进度，并支持断点续传。</li><li><code>-r</code>：递归复制目录及其内容。</li><li><code>-e</code>：指定远程 shell 程序（如 <code>ssh</code>）。</li><li><code>--delete</code>：删除目标目录中源目录不存在的文件。</li><li><code>--exclude</code>：排除指定文件或目录。</li><li><code>--include</code>：包含指定文件或目录。</li><li><code>--dry-run</code>：模拟运行，不实际执行任何操作。</li></ul><p>常用用法</p><p>我一般使用的用法：<code>rsync -avP source_dir/ destination_dir/</code></p><ol><li><p><strong>本地同步</strong> 同步本地目录 <code>source_dir</code> 到 <code>destination_dir</code>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -av</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> source_dir/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> destination_dir/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>远程同步</strong> 将本地目录压缩同步到远程服务器：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -avz</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ssh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> source_dir/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user@remote_host:/path/to/destination_dir/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>从远程服务器压缩同步到本地：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -avz</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ssh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user@remote_host:/path/to/source_dir/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> destination_dir/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>删除目标目录中源目录不存在的文件</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -av</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --delete</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> source_dir/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> destination_dir/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>排除特定文件或目录</strong> 排除 <code>source_dir</code> 中的 <code>exclude_dir</code> 和 <code>exclude_file</code>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -av</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --exclude</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">exclude_dir</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --exclude</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">exclude_file</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> source_dir/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> destination_dir/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>显示传输进度</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -avP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> source_dir/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> destination_dir/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>模拟运行</strong> 模拟同步操作，不实际执行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -av</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --dry-run</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> source_dir/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> destination_dir/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>同步时保留符号链接</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -avL</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> source_dir/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> destination_dir/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>同步时保留硬链接</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -avH</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> source_dir/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> destination_dir/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><p>示例</p><ol><li><p><strong>同步本地目录并删除目标目录中多余的文件</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -av</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --delete</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /path/to/source/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /path/to/destination/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>同步远程目录并压缩传输</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -avz</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ssh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user@remote_host:/path/to/source/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /path/to/destination/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>同步时排除特定文件</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -av</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --exclude</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*.log</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /path/to/source/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /path/to/destination/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><p>注意事项</p><ul><li><code>rsync</code> 的源目录如果以 <code>/</code> 结尾，表示同步目录内容；如果不以 <code>/</code> 结尾，表示同步目录本身。</li></ul>',12)]))}const r=s(h,[["render",l]]),k=JSON.parse(`{"path":"/experience/5sp55w5x/","title":"2.4 rsync","lang":"zh-CN","frontmatter":{"title":"2.4 rsync","createTime":"2025/05/06 17:07:20","permalink":"/experience/5sp55w5x/","description":"rsync 是一个用于在本地或远程系统之间同步文件和目录的强大工具。它支持增量传输，只传输发生变化的部分，从而提高了效率。以下是 rsync 的基本使用方法和一些常用用法。 基本语法 常用选项 -a：归档模式，保留文件属性（如权限、时间戳等），相当于 -rlptgoD。 -v：详细模式，显示传输过程中的详细信息。 -z：压缩传输，减少数据传输量。 -P...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"2.4 rsync\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-06T09:10:05.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://plus-wave.github.io/experience/5sp55w5x/"}],["meta",{"property":"og:site_name","content":"PLUS-WAVE's Blog"}],["meta",{"property":"og:title","content":"2.4 rsync"}],["meta",{"property":"og:description","content":"rsync 是一个用于在本地或远程系统之间同步文件和目录的强大工具。它支持增量传输，只传输发生变化的部分，从而提高了效率。以下是 rsync 的基本使用方法和一些常用用法。 基本语法 常用选项 -a：归档模式，保留文件属性（如权限、时间戳等），相当于 -rlptgoD。 -v：详细模式，显示传输过程中的详细信息。 -z：压缩传输，减少数据传输量。 -P..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-06T09:10:05.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-06T09:10:05.000Z"}]]},"readingTime":{"minutes":1.78,"words":534},"git":{"updatedTime":1746522605000,"contributors":[{"name":"PLUS_WAVE","username":"","email":"wangplus_wave@foxmail.com","commits":1,"avatar":"https://gravatar.com/avatar/73d9cce6b7473bc4e3bccd9c674dc373250f563551d205366d1b3852d719f74e?d=retro"}]},"autoDesc":true,"filePathRelative":"notes/Experience/2. Linux&Server/2.4 rsync.md","headers":[]}`);export{r as comp,k as data};
