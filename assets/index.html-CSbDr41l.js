import{_ as i,c as a,e as n,o as t}from"./app-CGJJd-cj.js";const e={};function l(h,s){return t(),a("div",null,s[0]||(s[0]=[n(`<p>ğŸŒŸåç»­çš„å®Œæˆçš„é¡¹ç›®ï¼šWindows ä¸ŠåŸºäº OpenMVG + OpenMVS çš„3Dé‡å»ºå¹³å° â€”â€” <strong><a href="https://github.com/PLUS-WAVE/WAVE-3D-Reconstruction" target="_blank" rel="noopener noreferrer">ğŸŒŠWAVE-3D-Reconstruction</a></strong></p><h2 id="_1-ransac-ç­›é€‰" tabindex="-1"><a class="header-anchor" href="#_1-ransac-ç­›é€‰"><span>1 RANSAC ç­›é€‰</span></a></h2><h3 id="_1-1-å¤§è‡´åŸç†" tabindex="-1"><a class="header-anchor" href="#_1-1-å¤§è‡´åŸç†"><span>1.1 å¤§è‡´åŸç†</span></a></h3><p><em>Random sample consensus</em> (RANSAC)ï¼Œå³éšæœºæŠ½æ ·ä¸€è‡´æ€§ï¼Œå…¶æ˜¯ä¸€ç§ç”¨äºä¼°è®¡æ¨¡å‹å‚æ•°çš„è¿­ä»£æ–¹æ³•ï¼Œç‰¹åˆ«é€‚ç”¨äºå¤„ç†åŒ…å«ç¦»ç¾¤ç‚¹ï¼ˆoutliersï¼‰çš„æ•°æ®é›†</p><p>RANSAC çš„ä¸»è¦æ€æƒ³æ˜¯éšæœºé‡‡æ ·æ•°æ®ç‚¹ï¼Œç”¨è¿™äº›é‡‡æ ·ç‚¹æ‹Ÿåˆä¸€ä¸ªæ¨¡å‹ï¼Œç„¶åè®¡ç®—å…¶ä»–æ•°æ®ç‚¹åˆ°è¿™ä¸ªæ¨¡å‹çš„æ‹Ÿåˆè¯¯å·®ï¼›æ ¹æ®è¯¯å·®å’Œé˜ˆå€¼ï¼Œå°†æ•°æ®ç‚¹åˆ†ä¸º<em>å†…ç‚¹ï¼ˆinliersï¼‰<em>å’Œ</em>å¤–ç‚¹ï¼ˆoutliersï¼‰</em>ï¼›é‡å¤è¿™ä¸ªè¿‡ç¨‹å¤šæ¬¡ï¼Œé€‰æ‹©å…·æœ‰æœ€å¤šå†…ç‚¹çš„æ¨¡å‹ä½œä¸ºæœ€ç»ˆçš„ä¼°è®¡</p><p>å¤§è‡´æ­¥éª¤ä¸ºï¼š</p><ol><li><p><strong>éšæœºé‡‡æ ·</strong></p><p>ä»æ•°æ®é›†ä¸­éšæœºé€‰æ‹©ä¸€å°éƒ¨åˆ†æ•°æ®ç‚¹ï¼Œé€šå¸¸æ˜¯ä¸æ‰€ä¼°è®¡æ¨¡å‹å‚æ•°æ•°é‡ç›¸ç­‰çš„æ•°æ®ç‚¹</p></li><li><p><strong>æ¨¡å‹æ‹Ÿåˆ</strong></p><p>ä½¿ç”¨è¿™äº›éšæœºé‡‡æ ·çš„æ•°æ®ç‚¹æ‹Ÿåˆä¸€ä¸ªæ¨¡å‹ï¼Œä¾‹å¦‚ç›´çº¿</p></li><li><p><strong>å†…ç‚¹æ£€æµ‹</strong></p><p>è®¡ç®—æ‰€æœ‰æ•°æ®ç‚¹åˆ°æ¨¡å‹çš„æ‹Ÿåˆè¯¯å·®ï¼Œå¹¶å°†ä¸æ¨¡å‹æ‹Ÿåˆè¯¯å·®å°äºæŸä¸ªé˜ˆå€¼çš„æ•°æ®ç‚¹æ ‡è®°ä¸ºå†…ç‚¹</p></li><li><p><strong>åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶</strong></p><p>å¦‚æœå†…ç‚¹çš„æ•°é‡è¾¾åˆ°äº†æŸä¸ªè®¾å®šçš„é˜ˆå€¼ï¼Œä¸”æ¨¡å‹å‚æ•°çš„ä¼°è®¡æ˜¯åˆç†çš„ï¼ˆä¾‹å¦‚ï¼Œæ¨¡å‹çš„æ‹Ÿåˆè¯¯å·®å°äºä¸€å®šé˜ˆå€¼ï¼‰ï¼Œåˆ™è®¤ä¸ºæ‰¾åˆ°äº†ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ¨¡å‹</p></li><li><p><strong>é‡å¤è¿­ä»£</strong></p><p>é‡å¤ä¸Šè¿°è¿‡ç¨‹å¤šæ¬¡ï¼ˆé€šå¸¸å‡ ç™¾ç”šè‡³ä¸Šåƒæ¬¡ï¼‰ï¼Œå¹¶ä¸”è®°å½•å…·æœ‰æœ€å¤šå†…ç‚¹çš„æ¨¡å‹ï¼Œä»¥åŠè¯¥æ¨¡å‹ä¼°è®¡çš„å†…ç‚¹</p></li><li><p><strong>è¾“å‡ºæœ€ä½³æ¨¡å‹</strong></p><p>åœ¨æ‰€æœ‰è¿­ä»£ä¸­ï¼Œé€‰æ‹©å…·æœ‰æœ€å¤šå†…ç‚¹çš„æ¨¡å‹ä½œä¸ºæœ€ç»ˆçš„ä¼°è®¡æ¨¡å‹ã€‚è¿™äº›å†…ç‚¹è¢«è®¤ä¸ºæ˜¯æ»¡è¶³æ¨¡å‹çš„æ•°æ®ç‚¹</p></li></ol><h3 id="_1-2-ä¼˜ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#_1-2-ä¼˜ç¼ºç‚¹"><span>1.2 ä¼˜ç¼ºç‚¹</span></a></h3><p>RANSAC çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯å®ƒèƒ½å¤Ÿå¯¹æ¨¡å‹å‚æ•°è¿›è¡Œé²æ£’ä¼°è®¡ï¼Œèƒ½å¤Ÿåœ¨å­˜åœ¨å¤§é‡å™ªå£°çš„æƒ…å†µä¸‹æ‰¾åˆ°åˆé€‚çš„æ¨¡</p><p>RANSAC çš„ç¼ºç‚¹æ˜¯è®¡ç®—è¿™äº›å‚æ•°æ‰€éœ€çš„æ—¶é—´æ²¡æœ‰ä¸Šé™ï¼Œå…¶éœ€è¦è¿›è¡Œå¤§é‡çš„éšæœºé‡‡æ ·å’Œæ¨¡å‹æ‹Ÿåˆï¼Œå› æ­¤å¯¹äºå¤§è§„æ¨¡æ•°æ®é›†æ¥è¯´ï¼Œè®¡ç®—å¤æ‚åº¦è¾ƒé«˜ï¼Œå¯èƒ½éœ€è¦è¾ƒé•¿çš„æ—¶é—´æ¥è¿è¡Œ</p><h3 id="_1-3-å®è·µæ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#_1-3-å®è·µæ•ˆæœ"><span>1.3 å®è·µæ•ˆæœ</span></a></h3><p>è¯·è§<a href="#1"> 3 å®è·µæ“ä½œ æ­¥éª¤äºŒÂ </a></p><h2 id="_2-fçŸ©é˜µ" tabindex="-1"><a class="header-anchor" href="#_2-fçŸ©é˜µ"><span>2 FçŸ©é˜µ</span></a></h2><h3 id="_2-1-åŸºæœ¬åŸç†" tabindex="-1"><a class="header-anchor" href="#_2-1-åŸºæœ¬åŸç†"><span>2.1 åŸºæœ¬åŸç†</span></a></h3><p>åŸºæœ¬çŸ©é˜µï¼ˆ<em>Fundamental Matrix</em>ï¼‰æè¿°äº†ä¸¤ä¸ªæ‘„åƒæœºä¹‹é—´çš„åŸºæœ¬å‡ ä½•å…³ç³»</p><p>åœ¨å¯¹æå‡ ä½•ä¸­ï¼Œå¯¹äºç«‹ä½“å›¾åƒå¯¹ä¸­å¯¹åº”ç‚¹çš„é½æ¬¡å›¾åƒåæ ‡ <code>p1</code> å’Œ <code>p2</code>ï¼Œ <code>F*p1</code>æè¿°äº†å¦ä¸€å›¾åƒä¸Šçš„å¯¹åº”ç‚¹ <code>p2</code> å¿…é¡»ä½äºå…¶ä¸Šçš„çº¿ï¼ˆå¯¹æçº¿ï¼‰è¿™æ„å‘³ç€ï¼Œå¯¹äºæ‰€æœ‰å¯¹åº”ç‚¹å¯¹éƒ½æˆç«‹ï¼š</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>p</mi><mn>2</mn><mi>T</mi></msubsup><mo>âˆ—</mo><mi>F</mi><mo>âˆ—</mo><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">p_2^T * F * p_1 = 0 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1383em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><h3 id="_2-2-å‡½æ•°å®ç°" tabindex="-1"><a class="header-anchor" href="#_2-2-å‡½æ•°å®ç°"><span>2.2 å‡½æ•°å®ç°</span></a></h3><p>åœ¨ OpenCV ä¸­ï¼Œæä¾›äº† <code>findFundamentalMat</code> å‡½æ•°ï¼Œç”¨äºä¼°è®¡ä¸¤å¹…å›¾åƒä¹‹é—´çš„FçŸ©é˜µ</p><p>ä»¥ä¸‹æ˜¯ <code>findFundamentalMat</code> å‡½æ•°çš„åŸºæœ¬ç”¨æ³•ï¼š</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Mat fundamental_matrix </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> findFundamentalMat</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">points1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> points2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> mask</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> method</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ransacReprojThreshold</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> confidence</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å…¶ä¸­å„å‚æ•°çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><ul><li><code>points1</code> å’Œ <code>points2</code>ï¼šä¸¤å¹…å›¾åƒä¸­çš„åŒ¹é…ç‚¹åæ ‡ï¼Œé€šå¸¸æ˜¯ <code>vector&lt;Point2f&gt;</code> ç±»å‹ï¼Œè¡¨ç¤ºä¸¤å¹…å›¾åƒä¸­åŒ¹é…ç‚¹çš„åƒç´ åæ ‡</li><li><code>mask</code>ï¼šæ˜¯ä¸€ä¸ªè¾“å‡ºæ•°ç»„é€šå¸¸æ˜¯ <code>vector&lt;uchar&gt;</code> ç±»å‹ï¼Œç”¨äºæŒ‡ç¤ºå“ªäº›åŒ¹é…ç‚¹è¢«è§†ä¸ºå†…ç‚¹ï¼ˆ<em>inliers</em>ï¼‰å’Œå“ªäº›è¢«è§†ä¸ºå¤–ç‚¹ï¼ˆ<em>outliers</em>ï¼‰</li><li><code>method</code>ï¼šç”¨äºæŒ‡å®šè®¡ç®—åŸºæœ¬çŸ©é˜µçš„æ–¹æ³•ï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§é€‰é¡¹ä¹‹ä¸€ï¼š <ul><li><code>cv::FM_RANSAC</code>ï¼šä½¿ç”¨ RANSAC ç®—æ³•è¿›è¡Œä¼°è®¡ï¼Œç”¨äºæ’é™¤ç¦»ç¾¤ç‚¹</li><li><code>cv::FM_LMEDS</code>ï¼šä½¿ç”¨æœ€å°ä¸­å€¼è¯¯å·®ä¼°è®¡æ–¹æ³•</li><li><code>cv::FM_8POINT</code>ï¼šä½¿ç”¨ 8 ç‚¹æ³•ä¼°è®¡åŸºæœ¬çŸ©é˜µ</li></ul></li><li><code>ransacReprojThreshold</code>ï¼šRANSAC ç®—æ³•ä¸­çš„é‡æŠ•å½±è¯¯å·®é˜ˆå€¼ï¼Œç”¨äºåˆ¤æ–­å†…ç‚¹å’Œå¤–ç‚¹ï¼Œé€šå¸¸éœ€è¦æ ¹æ®å…·ä½“é—®é¢˜æ¥é€‰æ‹©é€‚å½“çš„é˜ˆå€¼ï¼Œé»˜è®¤å€¼ä¸º 3.0</li><li><code>confidence</code>ï¼šç½®ä¿¡åº¦ï¼Œé€šå¸¸ä¸ºé»˜è®¤å€¼ 0.99</li></ul><h2 id="_3-å®è·µæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_3-å®è·µæ“ä½œ"><span>3 å®è·µæ“ä½œ</span></a></h2><p>ä¹‹å‰é€šè¿‡<code>SIFT</code>+<code>Flann</code>+<code>ratio=0.7</code>çš„å›¾åƒåŒ¹é…å’Œåˆæ­¥ç­›é€‰ï¼Œå¾—åˆ°äº† <code>good_matches</code>ï¼ˆ<code>vector&lt;DMatch&gt;</code> ç±»å‹ï¼‰</p><h4 id="æ­¥éª¤ä¸€-ä¿å­˜åŒ¹é…ç‚¹å¯¹åæ ‡" tabindex="-1"><a class="header-anchor" href="#æ­¥éª¤ä¸€-ä¿å­˜åŒ¹é…ç‚¹å¯¹åæ ‡"><span>æ­¥éª¤ä¸€ï¼šä¿å­˜åŒ¹é…ç‚¹å¯¹åæ ‡</span></a></h4><p>å°† <code>vector&lt;DMatch&gt;</code> ç±»å‹çš„ <code>good_matches</code> ä¸­çš„åæ ‡ä¿¡æ¯æå–å‡ºæ¥å­˜å…¥ <code>vector&lt;Point2f&gt;</code> ç±»å‹çš„ <code>matchedPoints1/2</code> ï¼›ä»¥ä¾¿äºåç»­çš„å‡ ä½•è®¡ç®—å°†åŒ¹é…ç‚¹å¯¹çš„åæ ‡æå–å‡ºæ¥ï¼Œä»¥ä¾¿äºåç»­çš„å‡ ä½•è®¡ç®—</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// å£°æ˜ç”¨äºä¿å­˜åŒ¹é…ç‚¹å¯¹çš„å®¹å™¨</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">vector</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Point2f</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> matchedPoints1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> matchedPoints2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">for</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">int</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> i </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> i </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> good_matches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">size</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ++</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    matchedPoints1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">push_back</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">keypoints1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">good_matches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">].</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">queryIdx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">].</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">pt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    matchedPoints2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">push_back</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">keypoints2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">good_matches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">].</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">trainIdx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">].</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">pt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ­¥éª¤äºŒ-è¿›è¡ŒåŸºæœ¬çŸ©é˜µfçš„ä¼°è®¡" tabindex="-1"><a class="header-anchor" href="#æ­¥éª¤äºŒ-è¿›è¡ŒåŸºæœ¬çŸ©é˜µfçš„ä¼°è®¡"><span>æ­¥éª¤äºŒï¼šè¿›è¡ŒåŸºæœ¬çŸ©é˜µFçš„ä¼°è®¡</span></a></h4><p>ç›´æ¥ä½¿ç”¨ <code>findFundamentalMat</code> å‡½æ•°</p><p>è¿™ä¸ªå‡½æ•°åœ¨å†…éƒ¨å·²ç»åŒ…å«äº† <strong>RANSAC</strong> ç­›é€‰æ­¥éª¤ï¼›å…·ä½“æ¥è¯´ï¼Œ<code>findFundamentalMat</code> å‡½æ•°ä¼šè®¡ç®—åŸºæœ¬çŸ©é˜µ Fï¼ŒåŒæ—¶ä½¿ç”¨ <strong>RANSAC</strong> è¿­ä»£æ–¹æ³•æ¥æ’é™¤ç¦»ç¾¤ç‚¹ï¼Œç¡®ä¿å¾—åˆ°çš„åŸºæœ¬çŸ©é˜µå¯¹äºå›¾åƒåŒ¹é…æ˜¯ç¨³å¥çš„</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// ä½¿ç”¨RANSACè¿›è¡ŒåŸºæœ¬çŸ©é˜µFçš„ä¼°è®¡</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Mat F</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">vector</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">uchar</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> inliers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">F </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> findFundamentalMat</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">matchedPoints1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> matchedPoints2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> inliers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> RANSAC</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>ä¸ºäº†æŸ¥çœ‹ RANSAC ç­›é€‰çš„æ•ˆæœæˆ‘ä»¬è¿›è¡Œå¦‚ä¸‹æ“ä½œ<a name="1"></a></p><p><code>inliers</code> æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å‘é‡ï¼ŒæŒ‡ç¤ºå“ªäº›åŒ¹é…ç‚¹å¯¹è¢«è§†ä¸ºå†…ç‚¹ï¼ˆç¬¦åˆåŸºæœ¬çŸ©é˜µçº¦æŸï¼‰ï¼Œå“ªäº›è¢«è§†ä¸ºå¤–ç‚¹ï¼›æˆ‘ä»¬æ¥ä¸‹æ¥ä½¿ç”¨å†…ç‚¹æ¥è¿›ä¸€æ­¥ç­›é€‰åŒ¹é…ï¼Œåªä¿ç•™é€šè¿‡ RANSAC ç­›é€‰çš„åŒ¹é…å¯¹åœ¨<code>ransac_filtered_matches</code>ä¸­ï¼Œå¹¶æ‰“å°å‡ºæ¥</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// è¿›ä¸€æ­¥ç­›é€‰åŒ¹é…</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">vector</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">DMatch</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ransac_filtered_matches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">for</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">int</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> i </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> i </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> inliers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">size</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ++</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">inliers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">])</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        ransac_filtered_matches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">push_back</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">good_matches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// ransac_filtered_matches åŒ…å«äº†é€šè¿‡RANSACç­›é€‰åçš„åŒ¹é…å¯¹</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Mat ransac_filtered_img_matches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">drawMatches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">img1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> keypoints1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> img2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> keypoints2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ransac_filtered_matches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ransac_filtered_img_matches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">imwrite</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">SAVE_PATH</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ransac_filtered_img_matches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th></th><th>åŒ¹é…ç‚¹æ•°é‡</th><th>å›¾åƒæ•ˆæœ</th></tr></thead><tbody><tr><td>RANSAC ç­›é€‰å‰</td><td>2949</td><td><img src="https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2023-09-16/img_matches_3-4.jpg" alt="img_matches_3&amp;4" loading="lazy"></td></tr><tr><td>RANSAC ç­›é€‰å</td><td>2581</td><td><img src="https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2023-09-16/img_matches_3-4_.jpg" alt="img_matches_3&amp;4_" loading="lazy"></td></tr></tbody></table><p>å¯ä»¥æ˜æ˜¾çœ‹å‡ºï¼Œåœ¨ RANSAC ç­›é€‰åï¼Œæ¶ˆé™¤äº† <code>368</code> å¯¹ç¦»ç¾¤åŒ¹é…ï¼Œè¾¾åˆ°äº†éå¸¸å¥½çš„åŒ¹é…æ•ˆæœ</p></li></ul>`,33)]))}const k=i(e,[["render",l]]),r=JSON.parse(`{"path":"/article/aljo8frg/","title":"OpenCVå®ç°çš„FçŸ©é˜µ+RANSACåŸç†ä¸å®è·µ","lang":"zh-CN","frontmatter":{"title":"OpenCVå®ç°çš„FçŸ©é˜µ+RANSACåŸç†ä¸å®è·µ","tags":["3DVision","OpenCV","SfM"],"createTime":"2023/09/20 16:30:25","permalink":"/article/aljo8frg/","description":"ğŸŒŸåç»­çš„å®Œæˆçš„é¡¹ç›®ï¼šWindows ä¸ŠåŸºäº OpenMVG + OpenMVS çš„3Dé‡å»ºå¹³å° â€”â€” ğŸŒŠWAVE-3D-Reconstruction 1 RANSAC ç­›é€‰ 1.1 å¤§è‡´åŸç† Random sample consensus (RANSAC)ï¼Œå³éšæœºæŠ½æ ·ä¸€è‡´æ€§ï¼Œå…¶æ˜¯ä¸€ç§ç”¨äºä¼°è®¡æ¨¡å‹å‚æ•°çš„è¿­ä»£æ–¹æ³•ï¼Œç‰¹åˆ«é€‚ç”¨äºå¤„ç†åŒ…å«ç¦»ç¾¤ç‚¹ï¼ˆoutlie...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"OpenCVå®ç°çš„FçŸ©é˜µ+RANSACåŸç†ä¸å®è·µ\\",\\"image\\":[\\"https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2023-09-16/img_matches_3-4.jpg\\",\\"https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2023-09-16/img_matches_3-4_.jpg\\"],\\"dateModified\\":\\"2025-04-29T12:57:05.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://plus-wave.github.io/article/aljo8frg/"}],["meta",{"property":"og:site_name","content":"PLUS-WAVE's Blog"}],["meta",{"property":"og:title","content":"OpenCVå®ç°çš„FçŸ©é˜µ+RANSACåŸç†ä¸å®è·µ"}],["meta",{"property":"og:description","content":"ğŸŒŸåç»­çš„å®Œæˆçš„é¡¹ç›®ï¼šWindows ä¸ŠåŸºäº OpenMVG + OpenMVS çš„3Dé‡å»ºå¹³å° â€”â€” ğŸŒŠWAVE-3D-Reconstruction 1 RANSAC ç­›é€‰ 1.1 å¤§è‡´åŸç† Random sample consensus (RANSAC)ï¼Œå³éšæœºæŠ½æ ·ä¸€è‡´æ€§ï¼Œå…¶æ˜¯ä¸€ç§ç”¨äºä¼°è®¡æ¨¡å‹å‚æ•°çš„è¿­ä»£æ–¹æ³•ï¼Œç‰¹åˆ«é€‚ç”¨äºå¤„ç†åŒ…å«ç¦»ç¾¤ç‚¹ï¼ˆoutlie..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2023-09-16/img_matches_3-4.jpg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-29T12:57:05.000Z"}],["meta",{"property":"article:tag","content":"SfM"}],["meta",{"property":"article:tag","content":"OpenCV"}],["meta",{"property":"article:tag","content":"3DVision"}],["meta",{"property":"article:modified_time","content":"2025-04-29T12:57:05.000Z"}]]},"readingTime":{"minutes":4.8,"words":1439},"git":{"updatedTime":1745931425000,"contributors":[{"name":"PLUS_WAVE","username":"","email":"wangplus_wave@foxmail.com","commits":3,"avatar":"https://gravatar.com/avatar/73d9cce6b7473bc4e3bccd9c674dc373250f563551d205366d1b3852d719f74e?d=retro"}]},"autoDesc":true,"filePathRelative":"2. CV/10. OpenCVå®ç°çš„FçŸ©é˜µ+RANSACåŸç†ä¸å®è·µ.md","headers":[],"categoryList":[{"id":"de90e8","sort":2,"name":" CV"}]}`);export{k as comp,r as data};
