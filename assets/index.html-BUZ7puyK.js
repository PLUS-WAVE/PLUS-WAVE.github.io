import{_ as a,c as t,e as n,o as e}from"./app-CGJJd-cj.js";const p={};function l(i,s){return e(),t("div",null,s[0]||(s[0]=[n('<h2 id="_1-overview" tabindex="-1"><a class="header-anchor" href="#_1-overview"><span>1 Overview</span></a></h2><p><a href="https://arxiv.org/pdf/2505.00703" target="_blank" rel="noopener noreferrer">https://arxiv.org/pdf/2505.00703</a></p><p><strong>å°†è¯­è¨€æ¨¡å‹ä¸­çš„ CoT æ¨ç†æœºåˆ¶ä¸ RL æ–¹æ³•å¼•å…¥å›¾åƒç”Ÿæˆé¢†åŸŸ</strong></p><ul><li>å›¾åƒç”Ÿæˆä¸ä»…éœ€è¦ç†è§£æ–‡æœ¬ï¼ˆpromptï¼‰å«ä¹‰ï¼Œè¿˜è¦å®ç°è·¨æ¨¡æ€çš„ã€é€åƒç´ çš„ç»†èŠ‚åˆæˆ</li><li>å¦‚ä½•åè°ƒè¯­ä¹‰çº§å’Œåƒç´ çº§çš„æ¨ç†è¿‡ç¨‹ï¼Œæ˜¯å½“å‰ç”Ÿæˆæ¨¡å‹éš¾ä»¥è§£å†³çš„é—®é¢˜</li></ul><p><strong>æ•´ä½“æ˜¯åŸºäº Janus-Pro è¿™æ ·çš„ Unified Generation and Understanding LMM</strong></p><hr><p><strong>åŒå±‚ CoT æœºåˆ¶</strong>ï¼ˆBi-Level Chain-of-Thoughtï¼‰</p><p>è®ºæ–‡æå‡ºäº†å›¾åƒç”Ÿæˆä¸­çš„ä¸¤ä¸ªæ¨ç†å±‚çº§ï¼š</p><ul><li><strong>è¯­ä¹‰çº§ CoT</strong>ï¼šåœ¨å›¾åƒç”Ÿæˆå‰ï¼Œé€šè¿‡å¯¹ prompt è¿›è¡Œæ·±åº¦ç†è§£ä¸æ¨ç†ï¼Œè§„åˆ’å›¾åƒçš„æ•´ä½“ç»“æ„ã€ç‰©ä½“å¸ƒå±€ç­‰ï¼›æœ¬è´¨æ˜¯ä¸€ä¸ªé«˜å±‚æ¬¡çš„è¯­è¨€æ¨ç†è¿‡ç¨‹</li><li><strong>Token çº§ CoT</strong>ï¼šåœ¨ç”Ÿæˆé˜¶æ®µï¼Œä»¥ patch ä¸ºå•ä½é€æ­¥ç”Ÿæˆå›¾åƒçš„æ¯ä¸ªå±€éƒ¨ç»†èŠ‚ï¼›ç­‰åŒäºè§†è§‰ç‰ˆçš„é€æ­¥æ¨ç†ï¼Œå¤„ç†ç»†èŠ‚ã€åƒç´ é—´è¿ç»­æ€§</li></ul><blockquote><p>Semantic-level CoT å°±æ˜¯ç›¸å½“äºä¼˜åŒ–åŸå§‹ prompt</p><p>è¿™ä¸ª Token-level CoT â‰ˆ è¿ç»­ image tokensï¼Œ å…¶å®è¿˜æ˜¯ç›¸å½“äºæ˜¯ç”Ÿæˆå›¾ç‰‡è¿›è¡Œä¼˜åŒ–ï¼Œç”šè‡³è¿˜ä¸å¦‚ä¸Šä¸€ç¯‡ <a href="https://arxiv.org/abs/2501.13926" target="_blank" rel="noopener noreferrer">Can We Generate Images with CoT</a> æœ‰æ¨ç†çš„æ„Ÿè§‰ï¼Œä»–è¿™é‡Œçš„ CoT å°±æ˜¯æŒ‡çš„è¿ç»­çš„ image tokens å‘—ï¼ˆæ²¡æœ‰æ€ç»´çš„æ„Ÿè§‰ï¼‰</p><ul><li><strong>ä¸æ˜¯æ˜¾å¼çš„ reasoning chain</strong>ï¼ˆæ¯”å¦‚â€œä¸ºäº†ç”Ÿæˆè¿™åªçŒ«ï¼Œæˆ‘å…ˆæƒ³å®ƒåœ¨æ²™å‘ä¸Šã€ç„¶åæƒ³é¢œè‰²â€¦â€¦â€è¿™ç§ step-by-step æ€è€ƒï¼‰</li><li>ä¹Ÿ<strong>æ²¡æœ‰ä¸­é—´ token åšæ˜¾å¼ planningã€ä¿®æ”¹æˆ–æ ¡å‡†</strong></li><li>åªæ˜¯å°†è‡ªç„¶å­˜åœ¨çš„ token-by-token decoding å½“ä½œâ€œCoTâ€ï¼Œåœ¨è®­ç»ƒé˜¶æ®µé€šè¿‡ reward é€‰æ‹©â€œå¥½â€çš„ tokens</li></ul><p><mark><strong>å®ƒçš„çœŸæ­£è´¡çŒ®åœ¨äºç­–ç•¥ä¼˜åŒ–è€Œé reasoning å»ºæ¨¡ï¼›å®ƒå€Ÿç”¨äº† CoT çš„åä¹‰ï¼Œä½†è¿˜è¿œæœªæ„å»ºå‡ºçœŸæ­£é€‚åº”è§†è§‰é¢†åŸŸçš„ reasoning è¡¨è¾¾æœºåˆ¶</strong></mark></p><p>ä½†æ˜¯ autoregressive çš„å›¾åƒç”Ÿæˆç¬¦åˆ LLM è¿™ç§çš„ next token prediction çš„èŒƒå¼ï¼Œå³åœ¨å½“å‰çŠ¶æ€ï¼ˆå·²ç”Ÿæˆçš„ token åºåˆ—ï¼‰ä¸‹ï¼Œé€‰æ‹©ä¸‹ä¸€ä¸ªåŠ¨ä½œï¼ˆtokenï¼‰çš„æ¦‚ç‡ï¼Œ<mark>å‘ˆç°å‡ºåºåˆ—å†³ç­–æˆ–ç­–ç•¥é€‰æ‹©çš„ç‰¹æ€§ã€‚ç”¨ RL è¿›è¡Œä¼˜åŒ–æ˜¯åˆç†çš„</mark>ï¼Œä½†å…¶æ›´åº”è¯¥ç±»ä¼¼äº LLM ä¸­çš„ preference alignmentï¼ˆRLHFã€DPOï¼‰</p></blockquote><hr><p><strong>BiCoT-GRPOï¼ˆBi-level CoT-guided RL with Group-Relative Patch-wise Optimizationï¼‰</strong></p><p>æ ¸å¿ƒä¼˜åŒ–æ¡†æ¶ï¼š</p><ul><li><p>åˆ©ç”¨å¼ºåŒ–å­¦ä¹ è€Œéä¼ ç»Ÿ SFT</p><blockquote><p>åŸå› 1ï¼šULMï¼ˆunified LMMsï¼Œe.g. Show-oï¼‰æœ¬èº«å·²å…·å¤‡åŸºæœ¬èƒ½åŠ›ï¼ŒRL å¯ä»¥æ›´çµæ´»åœ°å¼•å¯¼æ¨¡å‹è‡ªä¸»å­¦ä¹ æ¨ç†</p><p>åŸå› 2ï¼šRL ç‰¹åˆ«é€‚åˆä¼˜åŒ–æ¨ç†æµç¨‹ï¼ˆè€Œä¸ä»…ä»…æ˜¯è¾“å‡ºç»“æœï¼‰</p></blockquote></li><li><p>ä¼˜åŒ–æµç¨‹ï¼š</p><ol><li><strong>ç”Ÿæˆè¯­ä¹‰çº§ CoT</strong>ï¼ˆprompt è§£æä¸å›¾åƒè§„åˆ’ï¼‰</li><li>å°†å…¶ä½œä¸ºæ¡ä»¶ï¼ŒæŒ‡å¯¼ <strong>token çº§ CoT ç”Ÿæˆ</strong></li><li>å¯¹åŒä¸€ prompt ç”Ÿæˆå¤šä¸ªå›¾åƒ</li><li>ç”¨ <strong>group-relative reward</strong> è¯„ä¼°ä¸€ç»„ç”Ÿæˆè´¨é‡ï¼Œç»Ÿä¸€åå‘ä¼ æ’­ä¼˜åŒ–ä¸¤çº§ CoT</li></ol></li><li><p>å¥–åŠ±è®¾è®¡ï¼šä¸ä½¿ç”¨å•ä¸€æ ‡å‡†ï¼Œè€Œæ˜¯ä½¿ç”¨<strong>å¤šä¸ªè§†è§‰ä¸“å®¶æ¨¡å‹æ„æˆå¥–åŠ±é›†åˆ</strong>ï¼ˆå¦‚BLIPã€DINOç­‰ï¼‰</p><blockquote><p>é¿å… reward hackingï¼Œæé«˜å¥–åŠ±ç¨³å®šæ€§ä¸å¤šæ ·æ€§ï¼›åŒæ—¶æå‡å›¾åƒä¸ prompt çš„ä¸€è‡´æ€§ã€è§†è§‰è´¨é‡ä¸è¯­ä¹‰åˆç†æ€§</p></blockquote></li></ul><h2 id="_2-method" tabindex="-1"><a class="header-anchor" href="#_2-method"><span>2 Method</span></a></h2><img src="https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2025-05-05/image-20250505153156300.png" alt="image-20250505153156300" style="zoom:50%;"><h3 id="_2-1-åŒå±‚-cot" tabindex="-1"><a class="header-anchor" href="#_2-1-åŒå±‚-cot"><span>2.1 åŒå±‚ CoT</span></a></h3><ol><li><p><strong>Semantic-level CoT</strong>ï¼šåœ¨ç”Ÿæˆå›¾åƒä¹‹å‰ï¼Œå…ˆè¿›è¡Œ<strong>æ–‡æœ¬å±‚é¢çš„æ¨ç†å’Œè§„åˆ’</strong>ï¼Œä¾‹å¦‚ç†è§£æç¤ºè¯ä¸­çš„æ·±å±‚æ„å›¾ã€æ¨æ–­åœºæ™¯ä¸­åº”æœ‰çš„ç‰©ä½“åŠå…¶å…³ç³»ã€æ’åˆ—å’ŒåŠ¨ä½œç­‰ã€‚<strong>åƒç”»å®¶åœ¨åŠ¨ç¬”å‰æ„æ€æ•´ä½“åœºæ™¯ã€‚</strong></p><ul><li>å¢å¼º<strong>è·¨æ¨¡æ€ç†è§£</strong>èƒ½åŠ›ï¼Œä½¿å¾—ç”Ÿæˆæ›´åŠ ç¬¦åˆç”¨æˆ·çœŸå®æ„å›¾</li></ul><blockquote><p>æ¯”å¦‚ï¼š Prompt: <em>&quot;A flower cultivated in the country where Amsterdam is located.&quot;</em> Semantic CoT æ¨ç†å‡ºåº”ä¸º*â€œtulipâ€*ï¼Œè€Œä¸æ˜¯ç›²ç›®ç”ŸæˆèŠ±ï¼ˆé˜¿å§†æ–¯ç‰¹ä¸¹ â†’ éƒé‡‘é¦™ï¼‰</p></blockquote></li><li><p><strong>Token-level CoT</strong>ï¼šåœ¨å›¾åƒç”Ÿæˆçš„è¿‡ç¨‹ä¸­é€æ­¥ç”Ÿæˆ patch/image tokensï¼Œæ¯ä¸ª patch çš„ç”Ÿæˆä¾èµ–äºå‰é¢çš„å†…å®¹ã€‚<strong>åƒç”»å®¶ä¸€ç‚¹ç‚¹ç»˜åˆ¶å›¾åƒ</strong>ï¼Œä¿æŒå±€éƒ¨ç»†èŠ‚å’Œæ•´ä½“ä¸€è‡´æ€§ã€‚</p><ul><li>å¢å¼ºå›¾åƒ<strong>å±€éƒ¨ä¸€è‡´æ€§</strong>å’Œ<strong>è§†è§‰è¿è´¯æ€§</strong></li></ul></li></ol><p>Token-level CoT è¯¦ç»†æœºåˆ¶ï¼š</p><p>1ï¸âƒ£ <strong>è¾“å…¥é˜¶æ®µ</strong>ï¼šç”Ÿæˆ Token-level CoT çš„è¾“å…¥æ˜¯</p><ul><li>image prompt</li><li>ä¸Šä¸€æ­¥ç”Ÿæˆçš„ Semantic-level CoT</li><li>ç‰¹æ®Š token <code>&lt;img_start&gt;</code>ï¼šç”¨äºå‘Šè¯‰ ULM å¼€å§‹ç”Ÿæˆå›¾åƒ token</li></ul><p>2ï¸âƒ£ <strong>ç”Ÿæˆé˜¶æ®µ</strong>ï¼šULM ä¼š step-by-step åœ°ç”Ÿæˆå›¾åƒ token</p><ul><li>æ¯ä¸ª token <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">t_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çš„ç”Ÿæˆä¾èµ–äºå‰é¢çš„ token <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>t</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>t</mi><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\\{t_1, ..., t_{i-1}\\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></li><li>è¿™å°±å½¢æˆäº†ä¸€ä¸ª token-level çš„æ¨ç†é“¾ï¼ˆvisual CoTï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯å±€éƒ¨ç»†èŠ‚çš„é€’è¿›å»ºæ„è¿‡ç¨‹</li><li>æ‰€æœ‰ token ç”Ÿæˆå®Œåï¼Œç»„æˆä¸€ä¸ª gridï¼ˆå›¾åƒçš„ latent è¡¨ç¤ºï¼‰ï¼Œè¢«é€å…¥ image decoder è§£ç æˆæœ€ç»ˆå›¾åƒ</li></ul><p>3ï¸âƒ£ <strong>è¯„ä¼°é˜¶æ®µ</strong>ï¼š</p><ul><li>å¯¹äºæ¯ä¸ª image promptï¼Œä¼šç”Ÿæˆ N ä¸ªå›¾åƒï¼ˆN ç»„ token-level CoTï¼‰</li><li>æ¯ä¸ªå›¾åƒä¼šè¢«é€å…¥å¤šä¸ª vision expertsï¼ˆHPMã€Detectorã€VQAã€ORMï¼‰</li><li>å¾—åˆ°æ¯ä¸ªå›¾åƒçš„ reward åˆ†æ•°</li><li>å†é€šè¿‡ GRPOï¼š <ul><li>æ¯”è¾ƒè¯¥å›¾åƒçš„ reward ç›¸å¯¹äºåŒç»„ï¼ˆåŒ promptï¼‰çš„å…¶ä»–å›¾åƒ</li><li>ç”¨äºæ›´æ–°æ¨¡å‹å‚æ•°ï¼Œè®©æ¨¡å‹åå¥½é‚£äº› token-level CoT æ›´é«˜è´¨é‡çš„å›¾åƒè·¯å¾„</li></ul></li></ul><p>è¿™ä¸ª Token-level CoT å…¶å®è¿˜æ˜¯ç›¸å½“äºæ˜¯ç”Ÿæˆå›¾ç‰‡è¿›è¡Œä¼˜åŒ–ï¼Œç”šè‡³è¿˜ä¸å¦‚ä¸Šä¸€ç¯‡ <a href="https://arxiv.org/abs/2501.13926" target="_blank" rel="noopener noreferrer">Can We Generate Images with CoT</a> æœ‰æ¨ç†çš„æ„Ÿè§‰ï¼Œä»–è¿™é‡Œçš„ CoT å°±æ˜¯æŒ‡çš„è¿ç»­çš„ image tokens å‘—ï¼ˆæ²¡æœ‰æ€ç»´çš„æ„Ÿè§‰ï¼‰</p><ul><li><strong>ä¸æ˜¯æ˜¾å¼çš„ reasoning chain</strong>ï¼ˆæ¯”å¦‚â€œä¸ºäº†ç”Ÿæˆè¿™åªçŒ«ï¼Œæˆ‘å…ˆæƒ³å®ƒåœ¨æ²™å‘ä¸Šã€ç„¶åæƒ³é¢œè‰²â€¦â€¦â€è¿™ç§ step-by-step æ€è€ƒï¼‰</li><li>ä¹Ÿ<strong>æ²¡æœ‰ä¸­é—´ token åšæ˜¾å¼ planningã€ä¿®æ”¹æˆ–æ ¡å‡†</strong></li><li>åªæ˜¯å°†è‡ªç„¶å­˜åœ¨çš„ token-by-token decoding å½“ä½œâ€œCoTâ€ï¼Œåœ¨è®­ç»ƒé˜¶æ®µé€šè¿‡ reward é€‰æ‹©â€œå¥½â€çš„ tokens</li></ul><h3 id="_2-2-bicot-grpo" tabindex="-1"><a class="header-anchor" href="#_2-2-bicot-grpo"><span>2.2 BiCoT-GRPO</span></a></h3><blockquote><p>GRPOï¼ˆGroup Relative Policy Optimizationï¼‰æ˜¯ DeepSeek æå‡ºçš„ä¸€ç§ RL ç­–ç•¥ä¼˜åŒ–æ¡†æ¶ã€‚å®ƒé€šè¿‡<strong>æˆç»„åœ°è¯„ä¼°ç”Ÿæˆæ ·æœ¬è´¨é‡çš„ç›¸å¯¹è¡¨ç°</strong></p></blockquote><p>ğŸ§© BiCoT-GRPOç»“æ„ï¼š</p><ol><li><strong>è¯­ä¹‰çº§CoTç”Ÿæˆé˜¶æ®µ</strong>ï¼š <ul><li>è¾“å…¥ Image Prompt å’Œè®¾å®šçš„ promptï¼ˆReasoning Instructionï¼‰</li><li>è¾“å‡ºè¯­ä¹‰æ¨ç†æ–‡æœ¬ï¼ˆsemantic-level CoTï¼‰</li></ul></li><li><strong>å›¾åƒç”Ÿæˆé˜¶æ®µ</strong>ï¼š <ul><li>è¾“å…¥ Image Prompt + è¯­ä¹‰çº§ CoT + <code>&lt;img_start&gt; </code>æ ‡è®°</li><li>é€šè¿‡ token-level CoT é€æ­¥ç”Ÿæˆå›¾åƒ tokensï¼Œå†ç”±è§£ç å™¨è½¬æ¢æˆå›¾åƒ</li></ul></li></ol><p>ğŸ” å¥–åŠ±æœºåˆ¶ï¼š</p><ul><li>ä¸ºäº†ç¨³å®šå¥–åŠ±ä¿¡å·ï¼Œè®¾è®¡äº†<strong>è§†è§‰ä¸“å®¶é›†æˆæ‰“åˆ†å™¨ï¼ˆEnsemble of Vision Expertsï¼‰</strong>ï¼ŒåŒ…æ‹¬å¤šä¸ªå›¾åƒç†è§£æ¨¡å‹ï¼ˆä¾‹å¦‚CLIPã€Inceptionç­‰ï¼‰å…±åŒå¯¹ç”Ÿæˆå›¾åƒæ‰“åˆ†</li><li>ç”Ÿæˆå¤šä¸ªå›¾åƒï¼ˆNä¸ªï¼‰åæ¯”è¾ƒå®ƒä»¬çš„ç›¸å¯¹è´¨é‡ï¼Œä½¿ç”¨<strong>ç»„å†…ç›¸å¯¹å¾—åˆ†</strong>è€Œéç»å¯¹æ‰“åˆ†</li></ul><h3 id="_2-3-ensemble-of-generation-rewards" tabindex="-1"><a class="header-anchor" href="#_2-3-ensemble-of-generation-rewards"><span>2.3 Ensemble of Generation Rewards</span></a></h3><img src="https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2025-05-05/image-20250505154225729.png" alt="image-20250505154225729" style="zoom:50%;"><p>ä¸ºäº†è¯„ä¼°ç”Ÿæˆå›¾åƒçš„è´¨é‡ï¼ŒBiCoT-GRPO ä¸ä½¿ç”¨å›ºå®šè§„åˆ™ï¼Œè€Œæ˜¯è®¾è®¡äº†ä¸€ä¸ª <strong>å¤šä¸“å®¶èåˆçš„å¥–åŠ±æœºåˆ¶ï¼ˆensemble of reward modelsï¼‰</strong>ï¼Œä»å¤šä¸ªè§†è§’å¯¹å›¾åƒè¿›è¡Œè¯„åˆ†ï¼Œç¡®ä¿å¥–åŠ±çš„å…¨é¢æ€§ä¸é²æ£’æ€§ï¼Œé¿å…æ¨¡å‹ä¸“æ³¨äºâ€œç ´è§£â€æŸä¸ªå•ä¸€å¥–åŠ±å‡½æ•°</p><p>å››ç±» vision expertsï¼š</p><ol><li><p><strong>Human Preference Model (HPM)</strong>ï¼šè¡¡é‡å›¾åƒçš„å®¡ç¾å’Œå¯¹æç¤ºè¯­çš„å¥‘åˆåº¦</p><ul><li>ä½¿ç”¨ HPS æˆ– ImageReward</li><li>æœºåˆ¶ï¼šæ¨¡å‹åŸºäºå¤§é‡äººç±»æ ‡æ³¨çš„å›¾åƒæ’åå­¦ä¹ ï¼Œè¾“å‡ºäººç±»åå¥½è¯„åˆ† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mtext>HPM</mtext></msub></mrow><annotation encoding="application/x-tex">R_{\\text{HPM}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">HPM</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li></ul></li><li><p><strong>Object Detector</strong>ï¼šåˆ¤æ–­å›¾åƒä¸­ç›®æ ‡çš„<strong>å­˜åœ¨æ€§</strong>ã€<strong>æ•°é‡</strong>ã€<strong>ç©ºé—´å…³ç³»</strong>ã€‚</p><ul><li>GroundingDINO, YOLO-World</li><li>æœºåˆ¶ï¼šæ£€æµ‹æç¤ºè¯­ä¸­æ‰€æœ‰å¯¹è±¡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>obj</mtext><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\\text{obj}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mord"><span class="mord text"><span class="mord">obj</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span></span></span></span> æ˜¯å¦å‡ºç°åœ¨å›¾åƒä¸­ï¼›è®¡ç®—ï¼š <ul><li>å­˜åœ¨æ€§å¾—åˆ†ï¼ˆæ˜¯å¦æ£€æµ‹åˆ°è¯¥å¯¹è±¡ï¼‰ï¼›</li><li>ç©ºé—´å¾—åˆ†ï¼ˆå¦‚ä½ç½®æ˜¯å¦æ­£ç¡®ï¼Œä½¿ç”¨ IoU ä¸ç›¸å¯¹æ–¹å‘ï¼‰ï¼›</li><li>æ•°é‡å¾—åˆ†ï¼ˆæ£€æµ‹æ•°é‡æ˜¯å¦æ­£ç¡®ï¼‰ï¼›</li></ul></li><li>å¥–åŠ±å‡½æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mtext>Det</mtext></msub></mrow><annotation encoding="application/x-tex">R_{\\text{Det}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Det</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼š <ul><li>if spatial relationship in the prompt â†’ 0.6 Ã— ç©ºé—´å¾—åˆ† + 0.4 Ã— å­˜åœ¨æ€§å¾—åˆ†</li><li>if number in the prompt â†’ æ£€æµ‹æ•°é‡æ­£ç¡®ä¸å¦</li><li>else â†’ å¹³å‡å­˜åœ¨æ€§å¾—åˆ†</li></ul></li></ul></li><li><p><strong>Visual Question Answering (VQA) Model</strong>ï¼šåˆ¤æ–­ç›®æ ‡æ˜¯å¦å­˜åœ¨ï¼Œå±æ€§æ˜¯å¦åŒ¹é…ã€‚</p><ul><li><p>BLIPã€GITã€LLaVA</p></li><li><p>æœºåˆ¶ï¼šå°† image prompt ä¸­çš„ç›®æ ‡+å±æ€§è½¬åŒ–ä¸ºé—®å¥ï¼ˆå¦‚ï¼š&quot;A red dog?&quot;ï¼‰ï¼Œè®©æ¨¡å‹å›ç­”æ˜¯å¦å­˜åœ¨ï¼š</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>R</mi><mtext>VQA</mtext></msub><mo>=</mo><mfrac><mn>1</mn><mi>K</mi></mfrac><munder><mo>âˆ‘</mo><mi>i</mi></munder><mfrac><msubsup><mi>P</mi><mi>i</mi><mtext>Yes</mtext></msubsup><mrow><msubsup><mi>P</mi><mi>i</mi><mtext>Yes</mtext></msubsup><mo>+</mo><msubsup><mi>P</mi><mi>i</mi><mtext>No</mtext></msubsup></mrow></mfrac></mrow><annotation encoding="application/x-tex">R_{\\text{VQA}} = \\frac{1}{K} \\sum_i \\frac{P_i^{\\text{Yes}}}{P_i^{\\text{Yes}} + P_i^{\\text{No}}} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">VQA</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.796em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.2869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8231em;"><span style="top:-2.4231em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Yes</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8231em;"><span style="top:-2.4231em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">No</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4413em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Yes</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.99em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p></li></ul></li><li><p><strong>Output Reward Model (ORM)</strong>ï¼šåˆ¤æ–­å›¾åƒä¸æç¤ºæ•´ä½“æ˜¯å¦å¯¹é½ã€‚</p><ul><li>OneVision å¾®è°ƒåçš„ LLaVA</li><li>æœºåˆ¶ï¼šç›´æ¥è¾“å…¥æ•´ä¸ª image promptï¼Œæ¨¡å‹è¾“å‡ºæ˜¯å¦åŒ¹é…çš„æ¦‚ç‡ï¼ˆä¸ VQA ç±»ä¼¼ï¼Œä½†è¾“å…¥æ˜¯æ•´ä¸ª image promptï¼‰</li></ul></li></ol><p>èåˆï¼šå¯¹æ¯ä¸ªä¸“å®¶çš„è¾“å‡ºè¿›è¡Œå¹³å‡ï¼Œå¾—åˆ°æœ€ç»ˆçš„ reward <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><msub><mi>R</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">R = \\frac{1}{N} \\sum_{i=1}^N R_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3262em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p>',39)]))}const r=a(p,[["render",l]]),o=JSON.parse(`{"path":"/article/3accgqlr/","title":"T2I-R1 å­¦ä¹ ç¬”è®°","lang":"zh-CN","frontmatter":{"title":"T2I-R1 å­¦ä¹ ç¬”è®°","tags":["CV","Generation","Reasoning"],"createTime":"2025/05/05 16:23:38","permalink":"/article/3accgqlr/","cover":"https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2025-05-05/image-20250505153156300.png","description":"1 Overview https://arxiv.org/pdf/2505.00703 å°†è¯­è¨€æ¨¡å‹ä¸­çš„ CoT æ¨ç†æœºåˆ¶ä¸ RL æ–¹æ³•å¼•å…¥å›¾åƒç”Ÿæˆé¢†åŸŸ å›¾åƒç”Ÿæˆä¸ä»…éœ€è¦ç†è§£æ–‡æœ¬ï¼ˆpromptï¼‰å«ä¹‰ï¼Œè¿˜è¦å®ç°è·¨æ¨¡æ€çš„ã€é€åƒç´ çš„ç»†èŠ‚åˆæˆ å¦‚ä½•åè°ƒè¯­ä¹‰çº§å’Œåƒç´ çº§çš„æ¨ç†è¿‡ç¨‹ï¼Œæ˜¯å½“å‰ç”Ÿæˆæ¨¡å‹éš¾ä»¥è§£å†³çš„é—®é¢˜ æ•´ä½“æ˜¯åŸºäº Janus-Pro è¿™æ ·çš„ Unified ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"T2I-R1 å­¦ä¹ ç¬”è®°\\",\\"image\\":[\\"https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2025-05-05/image-20250505153156300.png\\"],\\"dateModified\\":\\"2025-05-09T02:46:28.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://plus-wave.github.io/article/3accgqlr/"}],["meta",{"property":"og:site_name","content":"PLUS-WAVE's Blog"}],["meta",{"property":"og:title","content":"T2I-R1 å­¦ä¹ ç¬”è®°"}],["meta",{"property":"og:description","content":"1 Overview https://arxiv.org/pdf/2505.00703 å°†è¯­è¨€æ¨¡å‹ä¸­çš„ CoT æ¨ç†æœºåˆ¶ä¸ RL æ–¹æ³•å¼•å…¥å›¾åƒç”Ÿæˆé¢†åŸŸ å›¾åƒç”Ÿæˆä¸ä»…éœ€è¦ç†è§£æ–‡æœ¬ï¼ˆpromptï¼‰å«ä¹‰ï¼Œè¿˜è¦å®ç°è·¨æ¨¡æ€çš„ã€é€åƒç´ çš„ç»†èŠ‚åˆæˆ å¦‚ä½•åè°ƒè¯­ä¹‰çº§å’Œåƒç´ çº§çš„æ¨ç†è¿‡ç¨‹ï¼Œæ˜¯å½“å‰ç”Ÿæˆæ¨¡å‹éš¾ä»¥è§£å†³çš„é—®é¢˜ æ•´ä½“æ˜¯åŸºäº Janus-Pro è¿™æ ·çš„ Unified ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2025-05-05/image-20250505153156300.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-09T02:46:28.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://raw.githubusercontent.com/PLUS-WAVE/blog-image/master/img/blog/2025-05-05/image-20250505153156300.png"}],["meta",{"name":"twitter:image:alt","content":"T2I-R1 å­¦ä¹ ç¬”è®°"}],["meta",{"property":"article:tag","content":"Reasoning"}],["meta",{"property":"article:tag","content":"Generation"}],["meta",{"property":"article:tag","content":"CV"}],["meta",{"property":"article:modified_time","content":"2025-05-09T02:46:28.000Z"}]]},"readingTime":{"minutes":6.81,"words":2042},"git":{"updatedTime":1746758788000,"contributors":[{"name":"PLUS_WAVE","username":"","email":"wangplus_wave@foxmail.com","commits":5,"avatar":"https://gravatar.com/avatar/73d9cce6b7473bc4e3bccd9c674dc373250f563551d205366d1b3852d719f74e?d=retro"}]},"autoDesc":true,"filePathRelative":"2. CV/26. T2I-R1.md","headers":[],"categoryList":[{"id":"de90e8","sort":2,"name":" CV"}]}`);export{r as comp,o as data};
